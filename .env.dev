ENVIRONMENT=dev
APP_NAME=trading-bot-config
POSTGRES_DSN=postgresql+psycopg2://trading:trading@localhost:5432/trading
REDIS_URL=redis://redis:6379/0
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672//
RUN_MIGRATIONS=1

# Set RUN_MIGRATIONS=0 for stateless services in docker-compose to skip Alembic on startup.

# Skip entitlements checks locally so services do not require x-customer-id headers.
ENTITLEMENTS_BYPASS=1

# ==== Auth0 (Dashboard SSO) ====
WEB_DASHBOARD_SESSION_SECRET=dev-dashboard-session
WEB_DASHBOARD_AUTH0_DOMAIN=your-tenant.eu.auth0.com
WEB_DASHBOARD_AUTH0_CLIENT_ID=your-client-id
WEB_DASHBOARD_AUTH0_CLIENT_SECRET=your-client-secret
WEB_DASHBOARD_AUTH0_AUDIENCE=https://your-api.example.com
WEB_DASHBOARD_AUTH0_CALLBACK_URL=http://localhost:8022/auth/callback
WEB_DASHBOARD_AUTH0_LOGOUT_URL=http://localhost:8022/
WEB_DASHBOARD_AUTH0_SCOPE=openid profile email

# ==== Auth/User defaults for local dev ====
DATABASE_URL=postgresql+psycopg2://trading:trading@localhost:5432/trading
PYTHONPATH=/app
JWT_SECRET=dev-secret-change-me
JWT_ALGO=HS256
BROKER_CREDENTIALS_ENCRYPTION_KEY=DporwBLoKCv6He99t-KfX5zaFw6dfCfZy9I1z1c6Y_M=
# Codespaces users should run scripts/dev/codespaces_setup.sh to generate overrides.
AUTH_SERVICE_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8022
AUTH_SERVICE_ALLOW_CREDENTIALS=true
AUTH_COOKIE_SAMESITE=None
AUTH_COOKIE_SECURE=false
ENABLE_DOCS=true
WEB_DASHBOARD_AUTH_SERVICE_URL=http://auth_service:8000/
WEB_DASHBOARD_REPORTS_BASE_URL=http://reports:8000
WEB_DASHBOARD_ALGO_ENGINE_URL=http://algo_engine:8000/
WEB_DASHBOARD_ORDER_ROUTER_BASE_URL=http://order_router:8000/
WEB_DASHBOARD_MARKETPLACE_URL=http://marketplace:8000/

# Streaming ingest defaults shared across demo services
STREAMING_INGEST_URL=http://streaming:8000
STREAMING_SERVICE_TOKEN=reports-token
STREAMING_ROOM_ID=public-room

# Front-end (Vite)
VITE_STREAMING_URL=ws://localhost:9000/stream

# ===== Auth Gateway Service (Auth0 Integration) =====
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_CLIENT_ID=your_spa_client_id_here
AUTH0_CLIENT_SECRET=your_spa_client_secret_here
AUTH0_AUDIENCE=https://api.trading-bot.dev
AUTH0_CALLBACK_URL=http://localhost:3000/auth/callback
AUTH0_LOGOUT_URL=http://localhost:3000

# Auth0 Management API (for user sync)
AUTH0_MANAGEMENT_CLIENT_ID=your_mgmt_client_id
AUTH0_MANAGEMENT_CLIENT_SECRET=your_mgmt_client_secret

# Default Plan for new users
DEFAULT_PLAN_CODE=free_trial
DEFAULT_PLAN_TRIAL_DAYS=14

# Session configuration
SESSION_SECRET=dev-session-secret-change-in-prod
SESSION_COOKIE_NAME=trading_bot_session
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_MAX_AGE=86400
