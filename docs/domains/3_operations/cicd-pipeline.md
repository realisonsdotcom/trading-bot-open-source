---
domain: 3_operations
title: Documentation CI Pipeline (validate-docs)
description: CI workflow that validates documentation metadata, links, and generated indexes.
keywords: ci, docs, validation, indexes, links, github-actions
last_updated: 2026-01-07
status: published
related:
  - infrastructure/INDEX.md
  - ../7_standards/INDEX.md
  - ../../../.github/workflows/validate-docs.yml
  - ../7_standards/generate-index-v2-guide.md
---

# Documentation CI Pipeline (validate-docs)

This workflow enforces documentation hygiene by validating metadata, checking links, and ensuring
indexes are generated and committed.

## Workflow location

- `.github/workflows/validate-docs.yml`

## Triggers

- Pull requests that touch `docs/**`, `AGENTS.md`, `INDEX.md`, or doc tooling scripts
- Pushes to `main` that modify the same paths

## Steps (current)

1. **Set up Python 3.11**
2. **Install dependencies**: `pyyaml`, `jinja2`
3. **Generate indexes**:
   ```bash
   python3 scripts/generate_index_v2.py
   ```
4. **Validate metadata + links**:
   ```bash
   python3 scripts/validate_docs_metadata.py --strict
   ```
5. **External markdown link check** (GitHub Action)
6. **Fail if indexes are out of date**:
   ```bash
   git diff --exit-code docs/domains
   ```

## Local workflow (recommended)

Before opening a PR that changes docs:

```bash
python3 scripts/generate_index_v2.py
python3 scripts/validate_docs_metadata.py --strict
```

Commit any updated `INDEX.md` files generated by the script.

## Maintenance

- Update `scripts/generate_index_v2.py` if the domain structure changes.
- Update `scripts/validate_docs_metadata.py` if metadata requirements evolve.
- Keep this page in sync with the workflow steps.
